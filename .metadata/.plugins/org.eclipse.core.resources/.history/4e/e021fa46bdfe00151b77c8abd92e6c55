package com.cathacks2016.proxy;

import java.io.IOException;
import java.net.InetSocketAddress;
import java.nio.channels.ServerSocketChannel;

import com.cathacks2016.proxy.networking.CommunicationServer;
import com.cathacks2016.proxy.networking.ThreadedServerBucket;

public class ProxyServer {

	private static final String PROXY_SERVER_IP = "10.20.236.179";
	private static final int PROXY_SERVER_PORT = 22724;
	
	private static ServerSocketChannel server_socket_channel;
	
	public ProxyServer(){
		// Initialize server connection threads
		InetSocketAddress inet_socket_address = new InetSocketAddress(PROXY_SERVER_IP, PROXY_SERVER_PORT);
		
		try {
			server_socket_channel = ServerSocketChannel.open();
			server_socket_channel.configureBlocking(false);
			server_socket_channel.socket().bind(inet_socket_address, 50);
			
		} catch (IOException e) {
			e.printStackTrace();
			return;
		}
		
		ThreadedServerBucket socket_buckets = new ThreadedServerBucket( server_socket_channel );
		
	}
	
}
